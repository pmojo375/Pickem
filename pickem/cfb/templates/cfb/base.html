<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CFB Pick'em{% endblock %}</title>
    
    <!-- Tailwind CSS + DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* Custom scrollbar for dark mode */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #5a6678;
        }
        
        /* Smooth transitions */
        * {
            transition: background-color 0.2s ease;
        }
        
        /* Flexbox layout for sticky footer */
        html {
            height: 100%;
        }
        
        body {
            min-height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .main-content {
            flex: 1 0 auto;
        }
        
        footer {
            flex-shrink: 0;
        }
        
        /* App-like bottom nav for mobile */
        @media (max-width: 768px) {
            .bottom-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 50;
            }
            .main-content {
                padding-bottom: 100px !important;
            }
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>
<body class="bg-base-300">
    <!-- Desktop Navigation -->
    <div class="navbar bg-base-100 shadow-lg sticky top-0 z-50 hidden md:flex">
        <div class="navbar-start">
            <a href="/" class="btn btn-ghost text-xl">
                <i class="fas fa-football text-primary"></i>
                <span class="ml-2 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent font-bold">CFB Pick'em</span>
            </a>
        </div>
        <div class="navbar-center hidden lg:flex">
            <ul class="menu menu-horizontal px-1 gap-1">
                <li><a href="/" class="{% if request.path == '/' %}active{% endif %}"><i class="fas fa-home mr-1"></i> Home</a></li>
                <li><a href="/picks/" class="{% if request.path == '/picks/' %}active{% endif %}"><i class="fas fa-hand-pointer mr-1"></i> Picks</a></li>
                <li><a href="/live/" class="{% if request.path == '/live/' %}active{% endif %}"><i class="fas fa-play-circle mr-1"></i> Live</a></li>
                <li><a href="/standings/" class="{% if request.path == '/standings/' %}active{% endif %}"><i class="fas fa-trophy mr-1"></i> Standings</a></li>
                <li><a href="/leagues/" class="{% if '/leagues/' in request.path %}active{% endif %}"><i class="fas fa-users-cog mr-1"></i> Leagues</a></li>
                <li><a href="/roster/" class="{% if request.path == '/roster/' %}active{% endif %}"><i class="fas fa-users mr-1"></i> Roster</a></li>
                {% if request.user.is_staff %}
                <li><a href="/settings/" class="{% if request.path == '/settings/' %}active{% endif %}"><i class="fas fa-cog mr-1"></i> Settings</a></li>
                {% endif %}
            </ul>
        </div>
        <div class="navbar-end">
            {% if request.user.is_authenticated %}
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar placeholder">
                        <div class="bg-primary text-primary-content rounded-full w-10">
                            <span class="text-xl">{{ request.user.username|slice:":1"|upper }}</span>
                        </div>
                    </div>
                    <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52">
                        <li class="menu-title">
                            <span>{{ request.user.username }}</span>
                        </li>
                        <li><a href="/logout/"><i class="fas fa-sign-out-alt mr-1"></i> Logout</a></li>
                    </ul>
                </div>
            {% else %}
                <a href="/login/" class="btn btn-primary btn-sm">
                    <i class="fas fa-sign-in-alt mr-1"></i> Login
                </a>
            {% endif %}
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <div class="btm-nav btm-nav-md md:hidden bottom-nav bg-base-100 border-t border-base-300">
        <a href="/" class="{% if request.path == '/' %}active text-primary{% endif %}">
            <i class="fas fa-home text-lg"></i>
            <span class="btm-nav-label text-xs">Home</span>
        </a>
        <a href="/picks/" class="{% if request.path == '/picks/' %}active text-primary{% endif %}">
            <i class="fas fa-hand-pointer text-lg"></i>
            <span class="btm-nav-label text-xs">Picks</span>
        </a>
        <a href="/live/" class="{% if request.path == '/live/' %}active text-primary{% endif %}">
            <i class="fas fa-play-circle text-lg"></i>
            <span class="btm-nav-label text-xs">Live</span>
        </a>
        <a href="/standings/" class="{% if request.path == '/standings/' %}active text-primary{% endif %}">
            <i class="fas fa-trophy text-lg"></i>
            <span class="btm-nav-label text-xs">Standings</span>
        </a>
        <a href="/leagues/" class="{% if '/leagues/' in request.path %}active text-primary{% endif %}">
            <i class="fas fa-users-cog text-lg"></i>
            <span class="btm-nav-label text-xs">Leagues</span>
        </a>
    </div>

    <!-- Mobile Header (shows user info) -->
    <div class="navbar bg-base-100 shadow-lg sticky top-0 z-50 md:hidden">
        <div class="navbar-start">
            <a href="/" class="btn btn-ghost text-lg">
                <i class="fas fa-football text-primary"></i>
                <span class="ml-2 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent font-bold">CFB Pick'em</span>
            </a>
        </div>
        <div class="navbar-end">
            {% if request.user.is_authenticated %}
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar placeholder">
                        <div class="bg-primary text-primary-content rounded-full w-8">
                            <span class="text-sm">{{ request.user.username|slice:":1"|upper }}</span>
                        </div>
                    </div>
                    <ul tabindex="0" class="mt-3 z-[1] p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-52">
                        <li class="menu-title">
                            <span>{{ request.user.username }}</span>
                        </li>
                        {% if request.user.is_staff %}
                        <li><a href="/settings/"><i class="fas fa-cog mr-1"></i> Settings</a></li>
                        {% endif %}
                        <li><a href="/logout/"><i class="fas fa-sign-out-alt mr-1"></i> Logout</a></li>
                    </ul>
                </div>
            {% else %}
                <a href="/login/" class="btn btn-primary btn-sm">Login</a>
            {% endif %}
        </div>
    </div>

    <!-- Main Content Wrapper for Flex Layout -->
    <div class="main-content">
        <!-- Messages/Alerts -->
        {% if messages %}
        <div class="container mx-auto px-4 mt-4 max-w-7xl">
            {% for message in messages %}
            <div role="alert" class="alert {% if message.tags == 'error' %}alert-error{% elif message.tags == 'success' %}alert-success{% elif message.tags == 'warning' %}alert-warning{% else %}alert-info{% endif %} mb-2">
                <i class="fas {% if message.tags == 'error' %}fa-exclamation-circle{% elif message.tags == 'success' %}fa-check-circle{% elif message.tags == 'warning' %}fa-exclamation-triangle{% else %}fa-info-circle{% endif %}"></i>
                <span>{{ message }}</span>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-6 max-w-7xl pb-6">
            {% block content %}{% endblock %}
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer footer-center p-4 bg-base-100 text-base-content mt-auto hidden md:block">
        <aside>
            <p>¬© 2024 CFB Pick'em - Built for the love of college football üèà</p>
        </aside>
    </footer>

    {% block extra_js %}{% endblock %}
</body>
</html>

